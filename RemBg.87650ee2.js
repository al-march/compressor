import{d as D,c as o,b as n,g as s,i,j as L,M as p,a as N,r as T,e as w,s as b,t as c}from"./chunks/web.0e38cc26.js";import{I as H,S as M,L as R,a as j,H as P,C as h,i as A}from"./chunks/ImageDropZone.9fa7531c.js";import{T as O}from"./chunks/Tooltip.65da8ab9.js";import{I as U}from"./chunks/Icon.ae75124e.js";import{d as Z}from"./chunks/download.1cbe9f00.js";/* empty css                              */const q=async l=>{const m=new FormData;m.set("file",l);const u=await(await fetch(`${window.backendUrl}/api/v1/rembg`,{method:"POST",body:m})).blob();return new File([u],l.name)},z=c('<div class="p-8 w-full flex justify-center"></div>'),G=c('<button class="btn btn-sm btn-ghost btn-circle"></button>'),J=c('<div class="mx-auto w-full rounded overflow-hidden"><header class="mb-6"></header><!#><!/></div>'),K=c('<div class="w-full"></div>'),$=c("<img>"),te=()=>{const[l,m]=o(),[d,u]=o(),[g,S]=o(),[_,v]=o(),[I,f]=o(!1);async function x(t){const[e]=t;e&&(f(!0),m(e),u(await h.createSrc(e)),await y(e),f(!1))}async function y(t){const e=await q(t),a=await h.createSrc(e);S(e),v(a)}function C(){const t=new File([g()||""],k());t&&Z.file(t)}function k(){const e=l()?.name;if(e){const{name:a}=A.sliceExt(e);return`${a}.png`}return"output.png"}return n(P,{get children(){return[n(H,{onDropFiles:x}),(()=>{const t=s(K);return i(t,n(M,{get children(){return n(L,{get children(){return[n(p,{get when(){return I()},get children(){const e=s(z);return i(e,n(R,{})),e}}),n(p,{get when(){return g()},get children(){const e=s(J),a=e.firstChild,B=a.nextSibling,[E,F]=N(B.nextSibling);return i(a,n(O,{message:"\u0412\u044B\u0433\u0440\u0443\u0437\u0438\u0442\u044C",get children(){const r=s(G);return r.$$click=C,i(r,n(U,{code:"download"})),T(),r}})),i(e,n(j,{class:"rounded",withLabels:!0,get before(){return(()=>{const r=s($);return w(()=>b(r,"src",d())),r})()},get after(){return(()=>{const r=s($);return w(()=>b(r,"src",_())),r})()}}),E,F),e}})]}})}})),t})()]}})};D(["click"]);export{te as RemBg};
