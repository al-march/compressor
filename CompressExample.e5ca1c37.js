import{c as o,o as C,a as s,S as y,g as c,i as m,b as I,d as g,s as p,t as i}from"./chunks/web.95b7ed09.js";import{C as f,L as j,M,I as E,S as L}from"./chunks/MouseParalax.46d5bc86.js";import{R}from"./chunks/ResultStats.84905346.js";/* empty css                              */import{c as k}from"./chunks/download.b779b8e7.js";import"./chunks/Tooltip.28bd055b.js";import"./chunks/store.fe2fa20a.js";const A=i('<div class="flex flex-col gap-8"><!#><!/><div class="flex justify-evenly items-center gap-4"></div></div>'),N=i('<div class="flex items-center justify-center"></div>'),q=i('<img alt="before image">'),B=i('<img alt="after image">'),K=()=>{const[u,d]=o(!0),[S,x]=o(),[_,$]=o([]),[b,h]=o(""),[v,w]=o("");return C(async()=>{await fetch("/compress-example.jpeg").then(t=>t.blob()).then(t=>{const r=new File([t],"example.jpeg",t);x(r)});const e=S();if(e){const t=new f(e),r=await f.createSrc(e),n=await k.image(e,{quality:.6}),l=await f.createSrc(n);t.compress=n,h(r),w(l),$([t]),d(!1)}}),s(L,{mode:"inout",get children(){return s(y,{get when(){return!u()},get fallback(){return(()=>{const e=c(N);return m(e,s(j,{center:!0})),e})()},get children(){return s(M,{get children(){const e=c(A),t=e.firstChild,[r,n]=I(t.nextSibling),l=r.nextSibling;return m(e,s(E,{class:"rounded overflow-hidden",get before(){return(()=>{const a=c(q);return g(()=>p(a,"src",b())),a})()},get after(){return(()=>{const a=c(B);return g(()=>p(a,"src",v())),a})()}}),r,n),m(l,s(R,{get images(){return _()}})),e}})}})}})};export{K as CompressExample};
