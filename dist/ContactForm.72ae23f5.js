import{h as S,e as p,k,g as a,i as m,c as t,t as l,f as y,M as f,j as v,r as M,S as j}from"./chunks/web.262933aa.js";import{L as _,S as E}from"./chunks/Scale.c410fccc.js";/* empty css                              */const L=()=>fetch(`${window.backendUrl}/availability`),T=async()=>{try{return await L(),!0}catch{return!1}},C=n=>fetch(`${window.backendUrl}/send`,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}),H=n=>new Promise(r=>{setTimeout(r,n)}),q=l('<div class="flex flex-col h-full items-center justify-center m-auto"><p class="flex items-center gap-2 mb-2"><span>\u0421\u0435\u0440\u0432\u0435\u0440 \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D =(</span></p><button type="button" class="btn btn-ghost btn-sm text-warning gap-1">\u041F\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C<span class="material-symbols-outlined">autorenew</span></button></div>'),B=l('<div class="flex flex-col py-10"></div>'),D=l('<div class="flex h-full items-center justify-center m-auto"></div>'),F=l('<p class="text-success font-bold">\u0421\u043F\u0430\u0441\u0438\u0431\u043E \u0437\u0430 \u0432\u0430\u0448\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435!</p>'),I=l('<p class="text-error font-bold">\u041E\u0448\u0438\u0431\u043A\u0430! \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435, \u043F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u0437\u0436\u0435</p>'),N=l("<span>\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C</span>"),O=l('<form name="form" class="flex flex-col w-96 mx-auto"><div class="form-control w-full"><label class="label"><span class="label-text">\u0412\u0430\u0448\u0435 \u0438\u043C\u044F</span></label><input name="name" type="text" class="input input-bordered" placeholder="\u041D\u0438\u043A\u043E\u043B\u0430\u0439" required></div><div class="form-control w-full"><label class="label"><span class="label-text">\u0422\u0435\u043C\u0430</span></label><input name="subject" type="text" class="input input-bordered" placeholder="\u0411\u0430\u0433" required></div><div class="form-control w-full"><label class="label"><span class="label-text">\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435</span></label><input name="text" type="text" class="input input-bordered" placeholder="\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435" required></div><div class="mt-4 w-full"><button type="submit" class="btn w-full gap-2"></button></div></form>'),P=l("<div></div>"),A=()=>{const[n,r]=p(!0),[c,i]=p(!1);k(async()=>{u()});async function u(){r(!0),i(await T()),await H(500),r(!1)}return(()=>{const o=a(B);return m(o,t(E,{mode:"outin",appear:!0,get children(){return t(y,{get fallback(){return(()=>{const s=a(D);return m(s,t(_,{})),s})()},get children(){return[t(f,{get when(){return v(()=>!n())()&&c()},get children(){return t(U,{})}}),t(f,{get when(){return v(()=>!n())()&&!c()},get children(){const s=a(q),b=s.firstChild,g=b.nextSibling;return g.$$click=()=>u(),M(),s}})]}})}})),o})()};function U(){const[n,r]=p(!1),[c,i]=p();async function u(e){e.preventDefault();const d=e.currentTarget;if(d instanceof HTMLFormElement){const{name:h,subject:w,text:x}=d,$={name:o(h),subject:o(w),text:o(x)};r(!0);try{await C($),b()}catch{g()}r(!1)}}function o(e){return e instanceof HTMLInputElement?e.value:""}function s(e){i(e),setTimeout(()=>{i("")},3e3)}function b(){const e=a(F);s(e)}function g(){const e=a(I);s(e)}return t(y,{get children(){return[t(f,{get when(){return!c()},get children(){const e=a(O),d=e.firstChild,h=d.nextSibling,w=h.nextSibling,x=w.nextSibling,$=x.firstChild;return e.addEventListener("submit",u),m($,t(j,{get when(){return!n()},get fallback(){return t(_,{})},get children(){return a(N)}})),e}}),t(f,{get when(){return!!c()},get children(){const e=a(P);return m(e,c),e}})]}})}S(["click"]);export{A as ContactForm};
