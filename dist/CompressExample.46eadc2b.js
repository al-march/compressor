import{g,i,e as S,k as R,t as d,c as o,l as q,b as r,S as H,a as f,s as $}from"./chunks/web.ae784fa2.js";import{L as z}from"./chunks/Loader.0f0fdd8a.js";import{I as D}from"./chunks/ImageCompareSlider.f5435aba.js";import{S as G}from"./chunks/Scale.3b9758ee.js";import{a as J}from"./chunks/ResultStats.f3536ad6.js";/* empty css                              */import{C as p,a as K}from"./chunks/download.dbe2a9b7.js";import"./chunks/store.9db19ba7.js";const O=d('<h3 class="text-2xl font-bold"></h3>'),b=n=>(()=>{const c=g(O);return i(c,()=>n.children),S(u=>R(c,{[n.class||""]:!!n.class},u)),c})(),P=d('<div class="flex flex-col gap-8"><!#><!/><div class="flex justify-evenly items-center gap-4"><!#><!/><!#><!/><!#><!/></div></div>'),h=d('<img alt="before image">'),ee=()=>{const[n,c]=o(!0),[u,w]=o(),[v,C]=o([]),[E,I]=o(""),[y,L]=o("");return q(async()=>{await fetch("/compress-example.jpeg").then(e=>e.blob()).then(e=>{const s=new File([e],"example.jpeg",e);w(s)});const t=u();if(t){const e=new p(t),s=await p.createSrc(t),m=await K.image(t,{quality:.6}),a=await p.createSrc(m);e.compress=m,I(s),L(a),C([e]),c(!1)}}),r(G,{get children(){return r(H,{get when(){return!n()},get fallback(){return r(z,{center:!0})},get children(){const t=g(P),e=t.firstChild,[s,m]=f(e.nextSibling),a=s.nextSibling,j=a.firstChild,[x,k]=f(j.nextSibling),A=x.nextSibling,[_,B]=f(A.nextSibling),F=_.nextSibling,[M,N]=f(F.nextSibling);return i(t,r(D,{class:"rounded overflow-hidden",get before(){return(()=>{const l=g(h);return S(()=>$(l,"src",E())),l})()},get after(){return(()=>{const l=g(h);return S(()=>$(l,"src",y())),l})()}}),s,m),i(a,r(b,{class:"text-error",children:"\u0414\u043E"}),x,k),i(a,r(J,{get images(){return v()}}),_,B),i(a,r(b,{class:"text-success",children:"\u041F\u043E\u0441\u043B\u0435"}),M,N),t}})}})};export{ee as CompressExample};
