import{A as N,g as u,B as P,C as R,i,r as q,t as S,c as o,l as z,b as s,S as D,a as f,e as $,s as b}from"./chunks/web.ae784fa2.js";import{L as G}from"./chunks/Loader.0f0fdd8a.js";import{I as J}from"./chunks/ImageCompareSlider.f5435aba.js";import{S as K}from"./chunks/Scale.3b9758ee.js";import{a as O}from"./chunks/ResultStats.f3536ad6.js";/* empty css                              */import{C as d,a as Q}from"./chunks/download.dbe2a9b7.js";import"./chunks/store.9db19ba7.js";const T=S('<h3 class="text-2xl font-bold"></h3>'),h=n=>{const[m,p]=N(n,["class","classList"]);return(()=>{const c=u(T);return P(c,R({get classList(){return{[m.class||""]:!!n.class,...m.classList}}},p),!1,!0),i(c,()=>n.children),q(),c})()},U=S('<div class="flex flex-col gap-8"><!#><!/><div class="flex justify-evenly items-center gap-4"><!#><!/><!#><!/><!#><!/></div></div>'),w=S('<img alt="before image">'),re=()=>{const[n,m]=o(!0),[p,c]=o(),[v,C]=o([]),[E,L]=o(""),[y,I]=o("");return z(async()=>{await fetch("/compress-example.jpeg").then(e=>e.blob()).then(e=>{const r=new File([e],"example.jpeg",e);c(r)});const t=p();if(t){const e=new d(t),r=await d.createSrc(t),g=await Q.image(t,{quality:.6}),a=await d.createSrc(g);e.compress=g,L(r),I(a),C([e]),m(!1)}}),s(K,{get children(){return s(D,{get when(){return!n()},get fallback(){return s(G,{center:!0})},get children(){const t=u(U),e=t.firstChild,[r,g]=f(e.nextSibling),a=r.nextSibling,j=a.firstChild,[x,A]=f(j.nextSibling),B=x.nextSibling,[_,k]=f(B.nextSibling),F=_.nextSibling,[H,M]=f(F.nextSibling);return i(t,s(J,{class:"rounded overflow-hidden",get before(){return(()=>{const l=u(w);return $(()=>b(l,"src",E())),l})()},get after(){return(()=>{const l=u(w);return $(()=>b(l,"src",y())),l})()}}),r,g),i(a,s(h,{class:"text-error",children:"\u0414\u043E"}),x,A),i(a,s(O,{get images(){return v()}}),_,k),i(a,s(h,{class:"text-success",children:"\u041F\u043E\u0441\u043B\u0435"}),H,M),t}})}})};export{re as CompressExample};
