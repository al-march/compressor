import{d as S,c as p,o as k,g as s,i as m,b as t,t as a,j as y,M as f,f as v,r as M,S as j}from"./chunks/web.fe524d5d.js";import{a as E}from"./chunks/utils.85802971.js";import{L as _}from"./chunks/Loader.085a7fa9.js";import"./chunks/ImageCompareSlider.8aa9261a.js";import{S as L}from"./chunks/Scale.c4673c7e.js";/* empty css                              */const C=()=>fetch(`${window.backendUrl}/availability`),T=async()=>{try{return await C(),!0}catch{return!1}},H=l=>fetch(`${window.backendUrl}/send`,{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}}),q=a('<div class="flex flex-col h-full items-center justify-center m-auto"><p class="flex items-center gap-2 mb-2"><span>\u0421\u0435\u0440\u0432\u0435\u0440 \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D =(</span></p><button type="button" class="btn btn-ghost btn-sm text-warning gap-1">\u041F\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C<span class="material-symbols-outlined">autorenew</span></button></div>'),B=a('<div class="flex flex-col py-10"></div>'),D=a('<div class="flex h-full items-center justify-center m-auto"></div>'),F=a('<p class="text-success font-bold">\u0421\u043F\u0430\u0441\u0438\u0431\u043E \u0437\u0430 \u0432\u0430\u0448\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435!</p>'),I=a('<p class="text-error font-bold">\u041E\u0448\u0438\u0431\u043A\u0430! \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435, \u043F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u0437\u0436\u0435</p>'),N=a("<span>\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C</span>"),O=a('<form name="form" class="flex flex-col w-96 mx-auto"><div class="form-control w-full"><label class="label"><span class="label-text">\u0412\u0430\u0448\u0435 \u0438\u043C\u044F</span></label><input name="name" type="text" class="input input-bordered" placeholder="\u041D\u0438\u043A\u043E\u043B\u0430\u0439" required></div><div class="form-control w-full"><label class="label"><span class="label-text">\u0422\u0435\u043C\u0430</span></label><input name="subject" type="text" class="input input-bordered" placeholder="\u0411\u0430\u0433" required></div><div class="form-control w-full"><label class="label"><span class="label-text">\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435</span></label><input name="text" type="text" class="input input-bordered" placeholder="\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435" required></div><div class="mt-4 w-full"><button type="submit" class="btn w-full gap-2"></button></div></form>'),U=a("<div></div>"),Q=()=>{const[l,o]=p(!0),[r,i]=p(!1);k(async()=>{u()});async function u(){o(!0),i(await T()),await E(500),o(!1)}return(()=>{const c=s(B);return m(c,t(L,{mode:"outin",appear:!0,get children(){return t(y,{get fallback(){return(()=>{const n=s(D);return m(n,t(_,{})),n})()},get children(){return[t(f,{get when(){return v(()=>!l())()&&r()},get children(){return t(J,{})}}),t(f,{get when(){return v(()=>!l())()&&!r()},get children(){const n=s(q),b=n.firstChild,g=b.nextSibling;return g.$$click=()=>u(),M(),n}})]}})}})),c})()};function J(){const[l,o]=p(!1),[r,i]=p();async function u(e){e.preventDefault();const d=e.currentTarget;if(d instanceof HTMLFormElement){const{name:h,subject:x,text:w}=d,$={name:c(h),subject:c(x),text:c(w)};o(!0);try{await H($),b()}catch{g()}o(!1)}}function c(e){return e instanceof HTMLInputElement?e.value:""}function n(e){i(e),setTimeout(()=>{i("")},3e3)}function b(){const e=s(F);n(e)}function g(){const e=s(I);n(e)}return t(y,{get children(){return[t(f,{get when(){return!r()},get children(){const e=s(O),d=e.firstChild,h=d.nextSibling,x=h.nextSibling,w=x.nextSibling,$=w.firstChild;return e.addEventListener("submit",u),m($,t(j,{get when(){return!l()},get fallback(){return t(_,{})},get children(){return s(N)}})),e}}),t(f,{get when(){return!!r()},get children(){const e=s(U);return m(e,r),e}})]}})}S(["click"]);export{Q as ContactForm};
